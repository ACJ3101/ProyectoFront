<section>
  <div class="px-4 py-5 px-md-5 text-center text-lg-start" style="background-color: hsl(0, 0%, 96%)">
    <div class="container">
      <div class="row gx-lg-5 align-items-center">
        <div class="col-lg-6 mb-5 mb-lg-0">
          <h1 class="my-5 display-3 fw-bold ls-tight">
            CrochetManía <br />
            <span class="text-primary">Tu tienda de crochet</span>
          </h1>
          <p style="color: hsl(217, 10%, 50.8%)">
            Únete a nuestra comunidad de amantes del crochet. Compra productos únicos o conviértete en vendedor
            y comparte tus creaciones con el mundo.
          </p>
        </div>

        <div class="col-lg-6 mb-5 mb-lg-0">
          <div class="card">
            <div class="card-body py-5 px-md-5">
              <form [formGroup]="registroForm" (ngSubmit)="onSubmit()">
                <!-- Email -->
                <div class="form-outline mb-2">
                  <label class="form-label">Email *</label>
                  <input type="email" formControlName="email" class="form-control"
                         [ngClass]="{'is-invalid': submitted && registroForm.controls['email'].invalid}" />
                  <div *ngIf="submitted && registroForm.controls['email'].errors" class="text-danger small">
                    <div *ngIf="registroForm.controls['email'].errors['required']">El email es obligatorio</div>
                    <div *ngIf="registroForm.controls['email'].errors['email']">Introduce un email válido</div>
                  </div>
                  <div *ngIf="usuarioExistente" class="text-danger small">
                    El usuario ya existe
                  </div>
                </div>

                <!-- Nombre -->
                <div class="form-outline mb-2">
                  <label class="form-label">Nombre *</label>
                  <input type="text" formControlName="nombre" class="form-control"
                         [ngClass]="{'is-invalid': submitted && registroForm.controls['nombre'].invalid}" />
                  <div *ngIf="submitted && registroForm.controls['nombre'].errors" class="text-danger small">
                    <div *ngIf="registroForm.controls['nombre'].errors['required']">El nombre es obligatorio</div>
                  </div>
                </div>

                <!-- Apellidos -->
                <div class="form-outline mb-2">
                  <label class="form-label">Apellidos *</label>
                  <input type="text" formControlName="apellidos" class="form-control"
                         [ngClass]="{'is-invalid': submitted && registroForm.controls['apellidos'].invalid}" />
                  <div *ngIf="submitted && registroForm.controls['apellidos'].errors" class="text-danger small">
                    <div *ngIf="registroForm.controls['apellidos'].errors['required']">Los apellidos son obligatorios</div>
                  </div>
                </div>

                <!-- Nick -->
                <div class="form-outline mb-2">
                  <label class="form-label">Nick *</label>
                  <input type="text" formControlName="nickName" class="form-control"
                         [ngClass]="{'is-invalid': submitted && registroForm.controls['nickName'].invalid}" />
                  <div *ngIf="submitted && registroForm.controls['nickName'].errors" class="text-danger small">
                    <div *ngIf="registroForm.controls['nickName'].errors['required']">El nick es obligatorio</div>
                  </div>
                </div>

                <!-- Dirección -->
                <div class="form-outline mb-2">
                  <label class="form-label">Dirección *</label>
                  <input type="text" formControlName="direccion" class="form-control"
                         [ngClass]="{'is-invalid': submitted && registroForm.controls['direccion'].invalid}" />
                  <div *ngIf="submitted && registroForm.controls['direccion'].errors" class="text-danger small">
                    <div *ngIf="registroForm.controls['direccion'].errors['required']">La dirección es obligatoria</div>
                  </div>
                </div>

                <!-- Rol -->
                <div class="form-outline mb-2">
                  <label class="form-label">¿Qué quieres ser? *</label>
                  <select class="form-select" formControlName="rol"
                          [ngClass]="{'is-invalid': submitted && registroForm.controls['rol'].invalid}">
                    <option value="CLIENTE">Cliente</option>
                    <option value="CREADOR">Vendedor</option>
                  </select>
                  <div *ngIf="submitted && registroForm.controls['rol'].errors" class="text-danger small">
                    <div *ngIf="registroForm.controls['rol'].errors['required']">Debes seleccionar un rol</div>
                  </div>
                </div>

                <!-- Contraseña -->
                <div class="form-outline mb-2">
                  <label class="form-label">Contraseña *</label>
                  <input type="password" formControlName="contraseña" class="form-control"
                         [ngClass]="{'is-invalid': submitted && registroForm.controls['contraseña'].invalid}" />
                  <div *ngIf="submitted && registroForm.controls['contraseña'].errors" class="text-danger small">
                    <div *ngIf="registroForm.controls['contraseña'].errors['required']">La contraseña es obligatoria</div>
                    <div *ngIf="registroForm.controls['contraseña'].errors['minlength']">La contraseña debe tener al menos 6 caracteres</div>
                  </div>
                </div>

                <!-- Repetir Contraseña -->
                <div class="form-outline mb-2">
                  <label class="form-label">Repetir contraseña *</label>
                  <input type="password" formControlName="repetirContraseña" class="form-control"
                         [ngClass]="{'is-invalid': submitted && registroForm.controls['repetirContraseña'].invalid}" />
                  <div *ngIf="submitted && registroForm.controls['repetirContraseña'].errors" class="text-danger small">
                    <div *ngIf="registroForm.controls['repetirContraseña'].errors['required']">Debes repetir la contraseña</div>
                    <div *ngIf="registroForm.controls['repetirContraseña'].errors['mismatch']">Las contraseñas no coinciden</div>
                  </div>
                </div>

                <p class="text-muted small mb-3">* Campos obligatorios</p>

                <button type="submit" class="btn btn-primary btn-block mt-2">
                  <i class="bi bi-person-plus me-2"></i>Registrarse
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
